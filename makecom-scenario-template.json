{
  "name": "Soco Nail - Customer Data Processing",
  "description": "Process customer data from HTTP POST requests directly to business systems",
  "version": 1,
  "modules": [
    {
      "id": 1,
      "type": "webhooks",
      "name": "HTTP POST Webhook",
      "parameters": {
        "url": "https://hook.eu1.make.com/your-webhook-url",
        "method": "POST",
        "contentType": "application/json"
      }
    },
    {
      "id": 2,
      "type": "googlesheets",
      "name": "Add to Customer Database",
      "parameters": {
        "spreadsheetId": "your-spreadsheet-id",
        "range": "Sheet1!A:M",
        "values": [
          [
            "{{1.customer_name}}",
            "{{1.customer_email}}",
            "{{1.customer_phone}}",
            "{{1.customer_service}}",
            "{{1.appointment_time}}",
            "{{1.special_notes}}",
            "{{1.preferred_technician}}",
            "{{1.lead_quality}}",
            "{{1.appointment_booked}}",
            "{{1.conversation_id}}",
            "{{1.message_count}}",
            "{{1.timestamp}}",
            "{{1.source}}"
          ]
        ]
      }
    },
    {
      "id": 3,
      "type": "slack",
      "name": "Notify Sales Team",
      "parameters": {
        "channel": "#sales",
        "text": "New customer lead from Soco Nail chatbot:\n\n*Name:* {{1.customer_name}}\n*Email:* {{1.customer_email}}\n*Phone:* {{1.customer_phone}}\n*Service:* {{1.customer_service}}\n*Appointment Time:* {{1.appointment_time}}\n*Lead Quality:* {{1.lead_quality}}\n*Booked:* {{1.appointment_booked}}\n*Conversation ID:* {{1.conversation_id}}\n*Messages:* {{1.message_count}}"
      }
    },
    {
      "id": 4,
      "type": "email",
      "name": "Send to Sales Team",
      "parameters": {
        "to": "sales@soconail.com",
        "subject": "New Lead: {{1.customer_name}} - {{1.customer_service}}",
        "text": "New customer lead received:\n\nCustomer: {{1.customer_name}}\nEmail: {{1.customer_email}}\nPhone: {{1.customer_phone}}\nService: {{1.customer_service}}\nAppointment Time: {{1.appointment_time}}\nLead Quality: {{1.lead_quality}}\nSpecial Notes: {{1.special_notes}}\nPreferred Technician: {{1.preferred_technician}}\n\nConversation ID: {{1.conversation_id}}\nMessage Count: {{1.message_count}}\n\nCustomer Messages:\n{{1.customer_messages}}"
      }
    }
  ],
  "connections": [
    {
      "from": 1,
      "to": 2
    },
    {
      "from": 1,
      "to": 3
    },
    {
      "from": 1,
      "to": 4
    }
  ],
  "settings": {
    "errorHandling": {
      "retryAttempts": 3,
      "retryDelay": 300
    },
    "webhook": {
      "timeout": 30,
      "authentication": "none"
    }
  }
}
